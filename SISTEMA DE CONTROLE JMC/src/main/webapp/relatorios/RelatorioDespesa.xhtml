<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://java.sun.com/jsp/jstl/core"  
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="../templates/administrador.xhtml">
  <ui:define name="content">
    <h:form prependId="false" id="growlForm">
      <p:growl id="growl" showDetail="false" />
    </h:form>
    <h:form prependId="false" id="dataForm">       
	<p:fieldset legend="Relatorio de Despesas">
        <p:dataTable id="list"  var="linha" value="#{sangriaBean.classificacaoItens}" rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'ui-datatable-odd' : null}">
        	<f:facet name="header">Relatorio de Despesas</f:facet>
        	<p:columnGroup type="header">
	            <p:row>
	                <p:column headerText="ITENS / DIAS" />
	                 <c:forEach var="campoCebecalho" begin="1" end="31">
		                <p:column headerText="#{campoCebecalho}" />
	                 </c:forEach>
	                 <p:column headerText="Total" />
	            </p:row>        	
        	</p:columnGroup>
        	
        	<p:subTable var="iten" value="#{linha.itens}" >
        	
	        	<f:facet name="header">
	        		<h:outputText  value="#{linha.name}"/>
	                 <c:forEach var="campoCebecalho" begin="1" end="31">
		                <p:column headerText="#{campoCebecalho}" />
	                 </c:forEach>	        		
	        	</f:facet>
	        	
				   <p:column >
		        		<h:outputText  value="#{iten.item.descrisao}"/>
		           </p:column>
		           
	        	<c:forEach var="item" begin="1" end="31">
		        	<p:column style="text-align:center">
		        		<h:outputText value="#{iten.campos[item]}">
<!-- 		        			<f:convertNumber currencyCode="BRL" minIntegerDigits="2" /> -->
		        		</h:outputText>
		        	</p:column> 
	        	</c:forEach> 
        		           
	        	<p:column style="text-align:center">
	        		<h:outputText value="#{iten.campos[32]}">
		        			<f:convertNumber currencyCode="BRL" minIntegerDigits="2" />
	        		</h:outputText>
	        	</p:column> 
		        	        		           
            <p:columnGroup type="footer">
                <p:row>
                    <p:column footerText="Totals: " style="text-align:right"/>
		        	<c:forEach var="item" begin="1" end="32">
			        	<p:column footerText="#{iten.campos[item]}"  style="text-align:center">
			        		<h:outputText value="#{iten.campos[item]}">
<!-- 			        			<f:convertNumber currencyCode="BRL" minIntegerDigits="2" /> -->
			        		</h:outputText>
			        	</p:column> 
		        	</c:forEach>                     
                </p:row>
            </p:columnGroup>        		           
        	</p:subTable>
        	
			<f:facet name="footer">Relatorio de Despesas</f:facet>        	       	
        </p:dataTable>
        </p:fieldset>
    </h:form>
  </ui:define>
</ui:composition>
</html>